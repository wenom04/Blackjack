typedef struct eredmenyek {
    int nyert;
    int vesztett;
    int dontetlen;
    }eredmenyek;

typedef struct pakli {
    int ertek;
    char szin[6];
    struct pakli *kov;
    }pakli;

/// @brief Pakli létrehozása
/// @param ertek A kártya értéke
/// @param szin A kártya színe
/// @return Pointer a létrehozott kártyára
pakli *letrehoz(int ertek, char szin[5]);

/// @brief Eldönti egy állásról, hogy ki nyert
/// @param eredmeny 
/// @param jatekos A játékos kártyáinak összege
/// @param oszto Az osztó kártyáinak összege
void dontes(eredmenyek *eredmeny, int jatekos, int jatekos2, int oszto, int oszto2);

/// @brief Kiír egy szöveget a képernyőre 
void kiiras(void);

/// @brief Felszabadítja a pakli listát
void pakli_felszabadit(pakli* eleje);

void erteke(int ertek, char *tomb);

void osszegoszto(int oszto, int oszto2);

void osszegjatekos(int jatekos, int jatekos2);

void dontes(eredmenyek *eredmeny, int jatekos, int jatekos2, int oszto, int oszto2 ){
    if (jatekos > 10 && jatekos < 14) 
        jatekos = 10;
    else if(jatekos == 14)
        jatekos = 11;
    if (jatekos2 > 10 && jatekos2 < 14) 
        jatekos2 = 10;
    else if(jatekos2 == 14)
        jatekos2 = 11;
    if (oszto > 10 && oszto < 14) 
        oszto = 10;
    else if(oszto == 14)
        oszto = 11;
    if (oszto2 > 10 && oszto2 < 14) 
        oszto2 = 10;
    else if(oszto2 == 14)
        oszto2 = 11;
    if(jatekos + jatekos2 > oszto + oszto2)
        ++eredmeny->nyert;
    else if(jatekos + jatekos2 < oszto + oszto2)
        ++eredmeny->vesztett;
    else
        ++eredmeny->dontetlen;      
}

void kiiras(void){
    printf("\nHa új kört szeretnél kezdeni, nyomd meg a [K] betűt és nyomj egy entert!\nHa viszont nem és el szeretnéd menteni az eredményt, nyomd meg a [M] betűt és nyomj egy entert!\n");
}

void pakli_felszabadit(pakli* eleje)
{
    pakli* mozgo = eleje;
    while(mozgo != NULL)
    {
        pakli* kov = mozgo->kov;
        free(mozgo);
        mozgo = kov;
    }
}

pakli *letrehoz(int ertek, char szin[10]){
    pakli *uj = (pakli*)malloc(sizeof(pakli));
    uj->ertek = ertek;
    strcpy(uj->szin, szin);
    uj->kov = NULL;
    return uj;
}

void erteke(int ertek, char *tomb){
    if(ertek == 11)
        strcpy(tomb, "Jumbo");
    else if(ertek == 12)
        strcpy(tomb, "Dáma");
    else if(ertek == 13)
        strcpy(tomb, "Király");
    else if(ertek == 14)
        strcpy(tomb, "Ász");
}

void osszegoszto(int oszto, int oszto2){
    if (oszto > 10 && oszto < 14) 
        oszto = 10;
    else if(oszto == 14)
        oszto = 11;
    if (oszto2 > 10 && oszto2 < 14) 
        oszto2 = 10;
    else if(oszto2 == 14)
        oszto2 = 11;
    printf("Összeg: %d\n", oszto + oszto2);
}

void osszegjatekos(int jatekos, int jatekos2){
    if (jatekos > 10 && jatekos < 14) 
        jatekos = 10;
    else if(jatekos == 14)
        jatekos = 11;
    if (jatekos2 > 10 && jatekos2 < 14) 
        jatekos2 = 10;
    else if(jatekos2 == 14)
        jatekos2 = 11;
    printf("Összeg: %d\n", jatekos + jatekos2);
}
